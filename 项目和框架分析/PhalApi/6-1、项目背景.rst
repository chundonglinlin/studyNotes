****
项目背景
****

``Family`` 是一个家庭智能产品，最初的业务功能是通过摆放在家里的电子相框设备，可让家庭成员实时分享和浏览相片，增进家人的交流。但原来的后端系统是基于 ``UCenter Home`` 进行二次开发的，随着业务的迅速发展，原来的旧系统难以支撑功能的快速迭代和上线，并且由于之前不合理的设计，已日趋臃肿、缓慢、不稳定、维护成本高昂。特别是对于新增的母婴营养秤业务线，专门为孕妈和婴儿设计的全新产品，可用于记录、分析体重，设置体重增长计划，定制营养计划，为宝宝提供发育评估和喂养指导，基于历史原因，旧系统更是难于支撑。为此，经过慎重考虑，我们决定重写此历史遗留系统，并在重写完成的基础上支持新增的业务线。

注意，这里是重写，而不是重构。重构是不改变功能的前提下，改善既有的代码，而重写是把原有的系统重新开发一次。这是根据项目的实际情况而最终决定的，而不是鼓励大家轻易就重写旧系统，除非你有充分的理由。但这里的“重写”又非严格意义上的重写，因为我们开发了一个与原来功能一样的新系统，部署的是新的接口服务域名，使用的是新的数据库，配套的是新的 ``App`` 客户端。最后在完成重写的基础上，我们还增加了母婴营养秤业务线的功能模块。除此之外，我们不仅要重写系统以改善代码质量，还要规范开发流程以提高效率。

重写后的新系统，其项目名称为 ``Family 2.0`` ，并且新版的 ``App`` 初次启动界面设计图如下：

.. image:: ./images/ch-6-app-start-up.jpg

图6-1 Family 2.0 新版App初次启动界面

通过这组启动界面，可以看出 ``Family 2.0`` 相框功能的主要流程：家庭成员在家庭圈内分享照片后，便可在智能相框中浏览查看了。

这是一个更正式、更普遍、更具有代表性的开发项目。事不宜迟，让我们开始吧！

.. note:: 本次项目的源代码位于 meet 仓库的 ./src/Family-2.0 目录下，并取自于真实项目。但为了保护实际项目的商业信息和出于教学的目的，代码未完全暴露并会有所调整。

