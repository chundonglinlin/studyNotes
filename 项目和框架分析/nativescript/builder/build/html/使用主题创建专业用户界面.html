

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>11. 使用主题创建专业用户界面 &mdash; nativescript 1.0 文档</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="索引"
              href="genindex.html"/>
        <link rel="search" title="搜索" href="search.html"/>
    <link rel="top" title="nativescript 1.0 文档" href="index.html"/>
        <link rel="next" title="12. 细化用户体验" href="细化用户体验.html"/>
        <link rel="prev" title="10. 原生硬件" href="原生硬件.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> nativescript
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="前言.html">1. 前言</a></li>
<li class="toctree-l1"><a class="reference internal" href="为什么使用NativeScript.html">2. 为什么使用NativeScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="你的第一个App.html">3. 你的第一个App</a></li>
<li class="toctree-l1"><a class="reference internal" href="解析NativeScript应用程序.html">4. 解析NativeScript应用程序</a></li>
<li class="toctree-l1"><a class="reference internal" href="页面和导航.html">5. 页面和导航</a></li>
<li class="toctree-l1"><a class="reference internal" href="理解app布局的基础.html">6. 理解app布局的基础</a></li>
<li class="toctree-l1"><a class="reference internal" href="使用高级布局.html">7. 使用高级布局</a></li>
<li class="toctree-l1"><a class="reference internal" href="样式NativeScript应用.html">8. 样式NativeScript应用</a></li>
<li class="toctree-l1"><a class="reference internal" href="使用数据.html">9. 使用数据</a></li>
<li class="toctree-l1"><a class="reference internal" href="原生硬件.html">10. 原生硬件</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">11. 使用主题创建专业用户界面</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">11.1. 主题</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">11.1.1. 将主题融入您的应用程序</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id4">11.2. 使用文本类，对齐和填充</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">11.2.1. 字体大小</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">11.2.2. 文本对齐</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id7">11.3. 样式化按钮</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id8">11.3.1. 清理</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id9">11.4. 样式化列表视图</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id10">11.5. 使用图片</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id11">11.6. 样式化数据输入表单</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id12">11.6.1. 构建数据输入字段</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id13">11.7. 总结</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="细化用户体验.html">12. 细化用户体验</a></li>
<li class="toctree-l1"><a class="reference internal" href="部署一个Android应用程序.html">13. 部署一个Android应用程序</a></li>
<li class="toctree-l1"><a class="reference internal" href="准备分发iOS应用程序.html">14. 准备分发iOS应用程序</a></li>
<li class="toctree-l1"><a class="reference internal" href="iOS安全和使用Xcode构建您的应用程序.html">15. iOS安全和使用Xcode构建您的应用程序</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">nativescript</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>11. 使用主题创建专业用户界面</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/使用主题创建专业用户界面.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>11. 使用主题创建专业用户界面<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<p>本章涵盖</p>
<ul class="simple">
<li>使用 NativeScript 主题而不是自定义 CSS 为您的应用设计风格</li>
<li>创建一致的数据输入表单以改善用户体验</li>
</ul>
<p>在过去几章中，您已经学习了关于数据绑定以及通过创建 Pet Scrapbook 应用程序与移动设备硬件进行交互的知识。宠物剪贴簿应用程序功能，但它不觉得像一个精心设计的应用程序：它有点笨重。我们忽略了应用程序的视觉设计，细节页面很难使用，而且该应用程序仅适用于手机尺寸的设备。现在是时候解决这些问题，并让应用程序感觉很好。</p>
<p>在接下来的两章中，您将学习如何使用更高级的 UI 设计技术将正常运行的应用程序转变为更加精美的应用程序。什么构成更加精美的应用程序是有点主观的，但有可用于改进应用程序的可靠的 UI 设计模式。在本章中，我们将通过使用 NativeScript 主题来设计 UI 的风格，开始重构和改进 Pet Scrapbook 应用程序。让我们开始吧！</p>
<div class="section" id="id2">
<h2>11.1. 主题<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>我们可能会稍微引申一下，但请耐心等待，因为我们正沿着怀旧之路走一趟。如果你已经完成了一些网页开发，你可能还记得用 CSS ，边距，填充，浮动和清除浮动的旧日子 - 手工编写 UI 。 这是光荣的。然后是 Bootstrap 。以某种方式构建您的 HTML 标记，添加几个类，并且您的应用程序开始看起来不错（至少对于我们来说，非设计者而言）。 当然，每个人的网站看起来都是一样的。</p>
<p>好的，足够回忆。 尽管你是一名设计师，但严肃地说，设计出色的用户界面很难。而且，我们不是设计师，所以我们喜欢使用工具轻松创建出色的应用。这就是主题引入的原因。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">主题是可用于快速设计应用程序的预构建 <code class="docutils literal"><span class="pre">CSS</span></code> 样式规则的集合。将主题视为 <code class="docutils literal"><span class="pre">NativeScript</span></code> 应用程序的 <code class="docutils literal"><span class="pre">Bootstrap</span></code> 。</p>
</div>
<p>通过遵循一些 <code class="docutils literal"><span class="pre">XML</span></code> 标记约定并应用 <code class="docutils literal"><span class="pre">CSS</span></code> 样式，您的应用程序就可以实现。但让我们清楚：仅仅因为你使用主题并不意味着你将永远不会再为你的应用程序编写 <code class="docutils literal"><span class="pre">CSS</span></code> 。你仍然需要 <code class="docutils literal"><span class="pre">CSS</span></code> ，但几乎没有那么多。</p>
<div class="section" id="id3">
<h3>11.1.1. 将主题融入您的应用程序<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h3>
<p>我们重构之旅的第一站是用主题重新设计我们的应用程序。我们将通过删除一些自定义 <code class="docutils literal"><span class="pre">CSS</span></code> 来更新每个页面，并添加由 <code class="docutils literal"><span class="pre">NativeScript</span></code> 主题提供的预定义 <code class="docutils literal"><span class="pre">CSS</span></code> 类。我们认为学习新东西的最佳途径是通过练习，让我们开始吧。</p>
<p>正如我们前面所说的，主题是预构建的 <code class="docutils literal"><span class="pre">CSS</span></code> 类选择器的集合。主题集合保持为名为 <code class="docutils literal"><span class="pre">nativescript-theme-core</span></code> 的 <code class="docutils literal"><span class="pre">npm</span></code> 包，如果您使用 <code class="docutils literal"><span class="pre">NativeScript</span> <span class="pre">2.4.0</span></code> 或更高版本创建应用程序，它将自动包含在您的应用程序中。</p>
<div class="admonition tip">
<p class="first admonition-title">小技巧</p>
<p class="last">如果您不知道最初使用什么版本的 <code class="docutils literal"><span class="pre">NativeScript</span></code> 脚本来支持您的应用，那没关系。 检查应用程序根目录中的 <code class="docutils literal"><span class="pre">package.json</span></code> 文件。如果安装了 <code class="docutils literal"><span class="pre">nativescript-theme-core</span></code> 软件包，则会在依赖项部分中看到它。例如： <code class="docutils literal"><span class="pre">&quot;nativescript-theme-core&quot;：&quot;^</span> <span class="pre">1.0.2&quot;</span></code> 。</p>
</div>
<p>如果您没有安装 <code class="docutils literal"><span class="pre">nativescript-theme-core</span></code> 软件包，则可以使用 <code class="docutils literal"><span class="pre">npm</span></code> 从命令行进行安装：</p>
<div class="highlight-shell"><div class="highlight"><pre><span></span>npm install nativescript-theme-core --save
</pre></div>
</div>
<p>在安装过程中， <code class="docutils literal"><span class="pre">npm</span></code> 将 <code class="docutils literal"><span class="pre">nativescript-theme-core</span></code> 添加到 <code class="docutils literal"><span class="pre">node_modules</span></code> 文件夹中，如图10.2所示。</p>
<img alt="_images/10-1.png" src="_images/10-1.png" />
<p><code class="docutils literal"><span class="pre">nativescript-theme-core</span></code> 中包含几种配色方案 - 两种核心方案：明亮和黑暗以及其他十一种颜色（蓝色，灰色，橙色，紫色等）。 所有颜色方案提供相同的功能，但以不同的方式着色 <code class="docutils literal"><span class="pre">UI</span></code> 元素。图10.3显示了 <code class="docutils literal"><span class="pre">Android</span></code> （左）和 <code class="docutils literal"><span class="pre">iOS</span></code> （右）的灯光（顶部）和暗部（底部）配色方案。</p>
<img alt="_images/10-2.png" src="_images/10-2.png" />
<p>要使用颜色方案，请将 <code class="docutils literal"><span class="pre">CSS</span></code> 文件导入 <code class="docutils literal"><span class="pre">app.css</span></code> 文件顶部的应用程序中。要导入灯光主题，请添加以下参考：</p>
<div class="highlight-js"><div class="highlight"><pre><span></span>@import &#39;nativescript-theme-core/css/core.light.css&#39;;
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">小技巧</p>
<p class="last">切换配色方案很容易。如果您希望看到使用深色配色方案，请删除 app.css 文件顶部的 <code class="docutils literal"><span class="pre">core.light.css</span> <span class="pre">import</span></code> 语句，并添加 <code class="docutils literal"><span class="pre">&#64;import'nativescripttheme-core</span> <span class="pre">/</span> <span class="pre">css</span> <span class="pre">/</span> <span class="pre">core.dark.css';</span></code> 。探索 <code class="docutils literal"><span class="pre">nativescript-theme-core</span></code> npm 软件包的 <code class="docutils literal"><span class="pre">css</span></code> 文件夹以获取其他配色方案（例如蓝色）。要切换到备用颜色，请导入颜色： <code class="docutils literal"><span class="pre">&#64;import'nativescript-theme-core</span> <span class="pre">/</span> <span class="pre">css</span> <span class="pre">/</span> <span class="pre">blue.css';</span></code> 。</p>
</div>
<p>我们将在 Pet Scrapbook 中使用浅色配色。请确保通过在顶部添加 <code class="docutils literal"><span class="pre">import</span></code> 语句将其导入到 <code class="docutils literal"><span class="pre">app.css</span></code> 文件中：</p>
<div class="highlight-js"><div class="highlight"><pre><span></span>@import &#39;nativescript-theme-core/css/core.light.css&#39;;
</pre></div>
</div>
</div>
</div>
<div class="section" id="id4">
<h2>11.2. 使用文本类，对齐和填充<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h2>
<p>我们将开始在宠物剪贴簿的主页上使用主题。在第9章的末尾，主页有几个页眉，页脚和标签的自定义 <code class="docutils literal"><span class="pre">CSS</span></code> 类（列表10.1）。</p>
<p>清单10.1 第9章末尾的 home-page.css 中的自定义 CSS 类</p>
<div class="highlight-css"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">header</span> <span class="p">{</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">32</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">label</span> <span class="p">{</span>
    <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="k">margin-top</span><span class="p">:</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">margin-bottom</span><span class="p">:</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">footer</span> <span class="p">{</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>然后， <code class="docutils literal"><span class="pre">home-page.xml</span></code> 页面使用这些类将页面标题大小（32px），页脚标签大小（10px），居中放置两个标签，并在顶部和底部提供10px的边距（列表10.2）。</p>
<p>列表10.2 第9章末尾的 home-page.xml 摘录</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;StackLayout&gt;</span>
  <span class="nt">&lt;Label</span> <span class="na">class=</span><span class="s">&quot;header&quot;</span> <span class="na">text=</span><span class="s">&quot;{{title}}&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;Image</span> <span class="na">src=</span><span class="s">&quot;~/images/home.png&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;Label</span> <span class="na">class=</span><span class="s">&quot;footer&quot;</span> <span class="na">text=</span><span class="s">&quot;{{footer}}&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;StackLayout</span> <span class="na">orientation=</span><span class="s">&quot;horizontal&quot;</span> <span class="na">horizontalAlignment=</span><span class="s">&quot;center&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Button</span> <span class="na">style=</span><span class="s">&quot;margin-right: 20px;&quot;</span> <span class="na">text=</span><span class="s">&quot;About&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Button</span> <span class="na">style=</span><span class="s">&quot;margin-left: 20px;&quot;</span> <span class="na">text=</span><span class="s">&quot;Continue&quot;</span> <span class="na">tap=</span><span class="s">&quot;onContinueTap&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/StackLayout&gt;</span>
<span class="nt">&lt;/StackLayout&gt;</span>
</pre></div>
</div>
<p>在我们继续之前，请从 <code class="docutils literal"><span class="pre">home-page.css</span></code> 文件中删除自定义样式。我们将从此处使用主题包中的内建样式。</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">如果您不删除现有样式，则不会遇到任何错误，但您的应用可能与我们的看起来有所不同。</p>
</div>
<div class="section" id="id5">
<h3>11.2.1. 字体大小<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h3>
<p>让我们开始通过解决标题字体大小来替换 CSS 。用作标题的标签可以用 h1 ， h2 ，…和 h6 CSS 类替换，如 HTML 中的 &lt;h1&gt; ， &lt;h2&gt;  …和 &lt;h6&gt; 标签。</p>
<div class="admonition tip">
<p class="first admonition-title">小技巧</p>
<p class="last">使用h1，h2，h3，h4，h5和h6 CSS类来设置用作页面标题的标签。</p>
</div>
<p>标题标签旨在成为页面上的主标题，因此让我们将它的类更改为 <code class="docutils literal"><span class="pre">h1</span></code> : <code class="docutils literal"><span class="pre">&lt;Label</span> <span class="pre">class</span> <span class="pre">=&quot;h1&quot;...</span> <span class="pre">/&gt;</span></code> 。</p>
<p>另一个常见需求是创建一个图片标题或脚注，通常字体大小比正常页面文本略小，且不那么明显。</p>
<div class="admonition tip">
<p class="first admonition-title">小技巧</p>
<p class="last">使用 <code class="docutils literal"><span class="pre">footnote</span></code> CSS 类来标记用作图像标题或脚注的标签。</p>
</div>
<p>我们现有的页脚类是内置脚注类的替代品，因此请将标签更改为： <code class="docutils literal"><span class="pre">&lt;Label</span> <span class="pre">class</span> <span class="pre">=&quot;footnote&quot;...</span> <span class="pre">/&gt;</span></code> 。</p>
</div>
<div class="section" id="id6">
<h3>11.2.2. 文本对齐<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h3>
<p>尽管使用 <code class="docutils literal"><span class="pre">text-align:center</span></code> 创建 CSS 规则来对齐标签并不需要太多的努力，但我们可以使用内置的 CSS 类 <code class="docutils literal"><span class="pre">text-center</span></code> 来完成同样的事情。所以，我们通过添加 <code class="docutils literal"><span class="pre">text-center</span></code> 类来更新这两个标签：</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;Label</span> <span class="na">class=</span><span class="s">&quot;h1 text-center&quot;</span> <span class="na">text=</span><span class="s">&quot;{{ title }}&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;Label</span> <span class="na">class=</span><span class="s">&quot;footnote text-center&quot;</span> <span class="na">text=</span><span class="s">&quot;{{ footer }}&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">小技巧</p>
<p class="last">使用内置的 CSS 类 <code class="docutils literal"><span class="pre">text-center</span></code> ， <code class="docutils literal"><span class="pre">text-left</span></code> 和 <code class="docutils literal"><span class="pre">text-right</span></code> 来对齐应用中的标签。</p>
</div>
<p>最后，我们可以使用内置类替换我们对边距和填充CSS规则的使用。内置填充和边距类使用基于约定的方法： <code class="docutils literal"><span class="pre">{margin/padding}-{top/bottom/left/right}-{amount}</span></code> ，其中各种关键字（如 <code class="docutils literal"><span class="pre">margin</span></code> ， <code class="docutils literal"><span class="pre">top</span></code> 和 <code class="docutils literal"><span class="pre">left</span></code> ）均为 仅使用第一个字母缩写。 所以，一个 <code class="docutils literal"><span class="pre">m-t-25</span></code> 的 <code class="docutils literal"><span class="pre">CSS</span></code> 类在元素的顶部添加了一个 <code class="docutils literal"><span class="pre">25px</span></code> 的边距。同样， <code class="docutils literal"><span class="pre">p-b-5</span></code> 在元素的底部添加了 <code class="docutils literal"><span class="pre">5px</span></code> 的填充。</p>
<p>让我们用我们刚刚了解的新的基于惯例的类来替换我们对顶部，底部，左侧和右侧边距规则的现有用法。第一个候选者是具有内联样式规则的关于和继续按钮：</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;Button</span> <span class="na">class=</span><span class="s">&quot;m-r-20&quot;</span> <span class="na">text=</span><span class="s">&quot;About&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;Button</span> <span class="na">class=</span><span class="s">&quot;m-l-20&quot;</span> <span class="na">text=</span><span class="s">&quot;Continue&quot;</span> <span class="na">tap=</span><span class="s">&quot;onContinueTap&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>通过使用 <code class="docutils literal"><span class="pre">m-r-20</span></code> 和 <code class="docutils literal"><span class="pre">m-l-20</span></code> 类，在 <code class="docutils literal"><span class="pre">About</span></code> 按钮的右侧添加了 <code class="docutils literal"><span class="pre">20px</span></code> 的边距，并在 <code class="docutils literal"><span class="pre">Continue</span></code> 按钮的左侧添加了 <code class="docutils literal"><span class="pre">20px</span></code> 的边距。要将 <code class="docutils literal"><span class="pre">10px</span></code> 页边距的样式规则替换为标签的顶部和底部，我们可以使用内置类 <code class="docutils literal"><span class="pre">m-t-10</span></code> 和 <code class="docutils literal"><span class="pre">m-b-10</span></code> ，但有一条捷径。</p>
<div class="admonition tip">
<p class="first admonition-title">小技巧</p>
<p class="last">当您想要对同一轴上的元素应用相同的边距或填充（顶部/底部被认为是 <code class="docutils literal"><span class="pre">y</span></code> 轴，左/右是 <code class="docutils literal"><span class="pre">x</span></code> 轴）时，您可以使用单个类。 将 <code class="docutils literal"><span class="pre">x</span></code> 或 <code class="docutils literal"><span class="pre">y</span></code> 替换为类的方向组件。例如， <code class="docutils literal"><span class="pre">m-t-10</span></code> 和 <code class="docutils literal"><span class="pre">m-b-10</span></code> 可以合并为 <code class="docutils literal"><span class="pre">m-y-10</span></code> 。</p>
</div>
<p>使用这个新约定，我们可以通过添加 <code class="docutils literal"><span class="pre">m-y-10</span></code> 类来快速将 <code class="docutils literal"><span class="pre">10px</span></code> 的边距应用于标签的顶部和底部：</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;Label</span> <span class="na">class=</span><span class="s">&quot;h1 text-center m-y-10&quot;</span> <span class="na">text=</span><span class="s">&quot;{{ title }}&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;Label</span> <span class="na">class=</span><span class="s">&quot;footnote text-center m-y-10&quot;</span> <span class="na">text=</span><span class="s">&quot;{{ footer }}&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id7">
<h2>11.3. 样式化按钮<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h2>
<p>我们将在主页上进行的最后更改是关于我们的关于和继续按钮。 <code class="docutils literal"><span class="pre">NativeScript</span></code> 的一大优点是，在 <code class="docutils literal"><span class="pre">UI</span></code> 上放置一个按钮会创建一个原生的 <code class="docutils literal"><span class="pre">Android</span></code> 和 <code class="docutils literal"><span class="pre">iOS</span></code> 按钮 - 其中包含原生按钮的默认样式。所以，你可能会问，为什么我想要以不同的方式设计我的按钮？</p>
<p>在很多情况下，你可能不想。原生的外观和感觉正是你想要的。毕竟， <code class="docutils literal"><span class="pre">Android</span></code> 应用程序应该看起来像 <code class="docutils literal"><span class="pre">Android</span></code> 应用程序， <code class="docutils literal"><span class="pre">iOS</span></code> 应用程序应该像 <code class="docutils literal"><span class="pre">iOS</span></code> 应用程序一样。同时，我们与很多开发人员进行了交流，我们听到了以下三件事情：</p>
<ol class="arabic simple">
<li>为所有应用程序提供统一的外观和感觉非常重要。</li>
<li>默认的 iOS 按钮看起来不像一个按钮(它看起来像一个链接)，并且经常会让新开发的 iOS 开发人员感到困惑。</li>
<li>应用程序用户经常抱怨按钮尺寸太小，当他们点击按钮时，他们经常会错过按钮的点击框，导致他们多次点击按钮以使其工作。</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">按钮或链接的点击框是按钮周围的用于检测用户是否点击了按钮的屏幕区域。 较小的按钮（其固有地具有较小的点击框）更难以点击。创建更大的按钮是增加用户在第一次尝试时轻按按钮的可能性的一种方式。</p>
</div>
<p>通过使用主题内置的按钮类别，您可以解决以上三点。让我们开始将基本 <code class="docutils literal"><span class="pre">CSS</span></code> 类 <code class="docutils literal"><span class="pre">btn</span></code> 添加到我们的按钮中：</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span>&lt;Button class=&quot;btn m-r-20&quot; text=&quot;About&quot; /&gt;
&lt;Button class=&quot;btn m-l-20&quot; text=&quot;Continue&quot; ... /&gt;
</pre></div>
</div>
<p>此基类应用按钮的默认样式，包括元素之间的大小和间距。</p>
<div class="admonition tip">
<p class="first admonition-title">小技巧</p>
<p class="last">虽然不是必需的，但我们建议您在设计按钮样式时从此类开始。</p>
</div>
<p>您的下一个选择是该按钮是纯色还是透明的。 <code class="docutils literal"><span class="pre">btn-primary</span></code> 类使用主题的主色调来设置按钮，而 <code class="docutils literal"><span class="pre">btn-outline</span></code> 使用带有细边轮廓的透明背景。我们喜欢彩色按钮的外观，所以让我们将 <code class="docutils literal"><span class="pre">btn-primary</span></code> 类添加到我们的按钮中：</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span>&lt;Button class=&quot;btn btn-primary m-r-20&quot; text=&quot;About&quot; /&gt;
&lt;Button class=&quot;btn btn-primary m-l-20&quot; text=&quot;Continue&quot; ... /&gt;
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">不要将 <code class="docutils literal"><span class="pre">btn-primary</span></code> 和 <code class="docutils literal"><span class="pre">btn-outline</span></code> 类应用于同一个按钮。只能选一个。</p>
</div>
<p>下一个按钮样式选项可以选择是否按钮带有圆角。如果你想要一个更平滑的设计，你可能会喜欢圆润的边缘，但如果你的应用的设计有更多的硬边缘和角度，方角可能会更好。</p>
<p>默认的按钮样式是方形的角落。要添加圆角，请使用 <code class="docutils literal"><span class="pre">btn-rounded-sm</span></code> 或 <code class="docutils literal"><span class="pre">btn-rounded-lg</span></code> 类，它们将小（sm）或大（lg）圆角添加到按钮。我们喜欢小圆角的外观，所以我们将这些添加到我们的按钮中：</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span>&lt;Button class=&quot;btn ... btn-rounded-sm&quot; text=&quot;About&quot; /&gt;
&lt;Button class=&quot;btn ... btn-rounded-sm&quot; text=&quot;Continue&quot; ... /&gt;
</pre></div>
</div>
<p>最后，您可以为按钮添加一个特殊效果，使它们在出现时高亮显示，通过添加 <code class="docutils literal"><span class="pre">btn-active</span></code> 类来点击。我们喜欢微妙的效果，所以我们将它添加到按钮中：</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span>&lt;Button class=&quot;btn ... btn-active&quot; text=&quot;About&quot; /&gt;
&lt;Button class=&quot;btn ... btn-active&quot; text=&quot;Continue&quot; ... /&gt;
</pre></div>
</div>
<div class="section" id="id8">
<h3>11.3.1. 清理<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h3>
<p>我们对主页进行了很多更改，并学习了如何设置文本和按钮的样式。在更改之前，请删除 <code class="docutils literal"><span class="pre">home-page.css</span></code> 文件; 我们不需要它，因为我们用内置类替换了它的全部功能！</p>
<p>如果您一直关注， <code class="docutils literal"><span class="pre">home-page.xml</span></code> 文件应该看起来像列表10.3，您的应用应该如图10.4所示。</p>
<p>清单10.3 使用内置主题类重构 home-page.xml 后的摘录</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;StackLayout&gt;</span>
  <span class="nt">&lt;Label</span> <span class="na">class=</span><span class="s">&quot;h1 text-center m-y-10&quot;</span> <span class="na">text=</span><span class="s">&quot;{{ title }}&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;Image</span> <span class="na">src=</span><span class="s">&quot;~/images/home.png&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;Label</span> <span class="na">class=</span><span class="s">&quot;footnote text-center m-y-10&quot;</span> <span class="na">text=</span><span class="s">&quot;{{ footer }}&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;StackLayout</span> <span class="na">orientation=</span><span class="s">&quot;horizontal&quot;</span> <span class="na">horizontalAlignment=</span><span class="s">&quot;center&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Button</span> <span class="na">class=</span><span class="s">&quot;btn btn-primary btn-rounded-sm btn-active m-r-20&quot;</span> <span class="na">text=</span><span class="s">&quot;About&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Button</span> <span class="na">class=</span><span class="s">&quot;btn btn-primary btn-rounded-sm btn-active m-l-20&quot;</span> <span class="na">text=</span><span class="s">&quot;Continue&quot;</span> <span class="na">tap=</span><span class="s">&quot;onContinueTap&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/StackLayout&gt;</span>
<span class="nt">&lt;/StackLayout&gt;</span>
</pre></div>
</div>
<img alt="_images/10-3.png" src="_images/10-3.png" />
</div>
</div>
<div class="section" id="id9">
<h2>11.4. 样式化列表视图<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h2>
<p>现在我们已经使用内置的 <code class="docutils literal"><span class="pre">CSS</span></code> 类重构了 Pet Scrapbook 的主页，接下来让我们进入剪贴簿页面。您会记得，此页面是剪贴簿页面（或条目）的列表。 清单10.4,10.5和图10.5显示了第9章之后剪贴簿页面的相关代码。</p>
<p>清单10.4 在第9章之后来自 scrapbook-page.xml 的摘录</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;ListView</span> <span class="na">items=</span><span class="s">&quot;{{ pages }}&quot;</span> <span class="na">itemTap=</span><span class="s">&quot;onItemTap&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ListView.itemTemplate&gt;</span>
    <span class="nt">&lt;StackLayout</span> <span class="na">orientation=</span><span class="s">&quot;horizontal&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;Image</span> <span class="na">src=</span><span class="s">&quot;{{ image }}&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;{{ title, title + &#39; Scrapbook Page&#39; }}&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/StackLayout&gt;</span>
  <span class="nt">&lt;/ListView.itemTemplate&gt;</span>
<span class="nt">&lt;/ListView&gt;</span>
</pre></div>
</div>
<p>清单10.5 样式在第9章之后形成 scrapbook-page.css</p>
<div class="highlight-css"><div class="highlight"><pre><span></span><span class="nt">label</span> <span class="p">{</span>
    <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="k">margin-top</span><span class="p">:</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">margin-bottom</span><span class="p">:</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">image</span> <span class="p">{</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">50</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">50</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<img alt="_images/10-4.png" src="_images/10-4.png" />
<p>我们并未完全否认此页面的风格，但我们可以做得更好一点。就像文本和按钮具有内置的类规则一样，可以使用主题来设置列表视图的样式。列表视图使用 <code class="docutils literal"><span class="pre">list-group</span></code> 和 <code class="docutils literal"><span class="pre">list-group-item</span></code> 类进行样式化。 <code class="docutils literal"><span class="pre">list-group</span></code> 类应用于 <code class="docutils literal"><span class="pre">ListView</span></code> 元素，而 <code class="docutils literal"><span class="pre">listgroup-item</span></code> 类应用于列表视图项目模板内的顶级布局容器。清单10.6展示了如何应用这些类。</p>
<p>清单10.6 将 list-group 和 list-group-item 添加到 scrapbook-page.xml</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;ListView</span> <span class="na">items=</span><span class="s">&quot;{{ pages }}&quot;</span> <span class="na">itemTap=</span><span class="s">&quot;onItemTap&quot;</span> <span class="na">class=</span><span class="s">&quot;list-group&quot;</span><span class="nt">&gt;</span>//列表组类被应用于ListView元素
  <span class="nt">&lt;ListView.itemTemplate&gt;</span>
    <span class="nt">&lt;StackLayout</span> <span class="na">orientation=</span><span class="s">&quot;horizontal&quot;</span> <span class="na">class=</span><span class="s">&quot;list-group-item&quot;</span><span class="nt">&gt;</span>//列表组项目类应用于项目模板的布局容器
      <span class="nt">&lt;Image</span> <span class="na">src=</span><span class="s">&quot;{{ image }}&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;{{ title, title + &#39; Scrapbook Page&#39; }}&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/StackLayout&gt;</span>
  <span class="nt">&lt;/ListView.itemTemplate&gt;</span>
<span class="nt">&lt;/ListView&gt;</span>
</pre></div>
</div>
<p>在我们向您展示结果之前，让我们做一些更多的事情，从项目模板的标签开始。列表视图主题有两个文本类： <code class="docutils literal"><span class="pre">list-group-item-heading</span></code> 和 <code class="docutils literal"><span class="pre">list-group-item-text</span></code> 。它们一起用于列表视图中的标题和普通文本。我们没有真正的标题，所以我们将坚持使用标签上的普通文本类：</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;{{ title, title + &#39; Scrapbook Page&#39; }}&quot;</span> <span class="na">class=</span><span class="s">&quot;list-group-item-text&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>我们要做的最后一项改变就是我们的图片。移动应用习惯在列表视图中在文本旁边放置图像或图标，而列表视图主题不会让人失望。</p>
<div class="admonition tip">
<p class="first admonition-title">小技巧</p>
<p class="last">将 <code class="docutils literal"><span class="pre">thumb</span></code> 类应用于列表视图项目模板中的图像以将图像转换为缩略图。</p>
</div>
<p>让我们更新我们的图像以包含 <code class="docutils literal"><span class="pre">thumb</span></code> 类：</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;Image</span> <span class="na">src=</span><span class="s">&quot;{{ image }}&quot;</span> <span class="na">class=</span><span class="s">&quot;thumb&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>我们完成了！ 图10.6显示了添加几个主题样式的结果。</p>
<img alt="_images/10-5.png" src="_images/10-5.png" />
</div>
<div class="section" id="id10">
<h2>11.5. 使用图片<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h2>
<p>宠物剪贴簿列表视图已经足够好了，但我们无法拒绝为缩略图图像添加最后一项变更。内置主题有两个漂亮的类： <code class="docutils literal"><span class="pre">img-rounded</span></code> 和 <code class="docutils literal"><span class="pre">img-circle</span></code> ，它们允许您将圆角添加到图像，甚至使图像成为圆形。我们是圆形图像外观的粉丝，所以让我们将 <code class="docutils literal"><span class="pre">img-circle</span></code> 类添加到缩略图图像：</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;Image</span> <span class="na">src=</span><span class="s">&quot;{{ image }}&quot;</span> <span class="na">class=</span><span class="s">&quot;thumb img-circle&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">在幕后， <code class="docutils literal"><span class="pre">img-rounded</span></code> 和 <code class="docutils literal"><span class="pre">img-circle</span></code> 类将 <code class="docutils literal"><span class="pre">border-radius</span></code> CSS 属性应用于图像。<code class="docutils literal"><span class="pre">Border-radius``（通过</span> <span class="pre">``img-rounded</span></code> 和 <code class="docutils literal"><span class="pre">img-circle</span></code> 的扩展）要求图像具有明确的高度和宽度设置。我们的例子的工作原理是因为 <code class="docutils literal"><span class="pre">thumb</span></code> 类为我们明确地设置了宽度和高度，但是您应该记住这一点，因为很容易忘记。</p>
</div>
<p>添加 <code class="docutils literal"><span class="pre">img-circle</span></code> 类后，我们来看看（图10.7）。</p>
<img alt="_images/10-6.png" src="_images/10-6.png" />
<p>剪贴簿列表视图看起来很棒！现在是时候进入剪贴簿更新页面，在那里您将学习如何使用主题包中的几个类来设置数据输入表单的样式。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">不要忘记删除 <code class="docutils literal"><span class="pre">scrapbook-page.css</span></code> 文件。 现在我们已经使用了内置主题，不需要自定义 <code class="docutils literal"><span class="pre">CSS</span></code> 样式。</p>
</div>
</div>
<div class="section" id="id11">
<h2>11.6. 样式化数据输入表单<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h2>
<p>到目前为止，我们应用到宠物剪贴簿的主题样式是快速变化，不需要我们修改 <code class="docutils literal"><span class="pre">UI</span></code> 结构。我们所要做的就是将类应用于现有的元素。但是，我们将通过添加几个结构化 <code class="docutils literal"><span class="pre">XML</span></code> 元素来改变它，以帮助我们重构和设计剪贴簿的更新页面。这些修改不是广泛的或者是侵入性的，但我们会做出一些修改。坚信我们，因为它是值得的。</p>
<p>宠物剪贴簿的更新页面旨在成为一个简单的数据输入表单，但第9章的产品与简单数据（图10.8）相差甚远。</p>
<img alt="_images/10-7.png" src="_images/10-7.png" />
<p>我们可以做得更好。清单10.7是我们的出发点 - 第9章末尾的 scrapbookUpdate-page.xml 。</p>
<p>清单10.7 第9章末尾的 scrapbookUpdate-page.xml 文件</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;Page</span> <span class="na">loaded=</span><span class="s">&quot;onLoaded&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;StackLayout&gt;</span>
    <span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;{{ title, title + &#39; Scrapbook Page&#39; }}&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;TextField</span> <span class="na">class=</span><span class="s">&quot;header&quot;</span> <span class="na">text=</span><span class="s">&quot;{{ title }}&quot;</span> <span class="na">hint=</span><span class="s">&quot;Enter title...&quot;</span><span class="nt">/&gt;</span> 页面的标题（或名称）数据条目
    <span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;{{ &#39;Age: &#39; + calcAge(year, month, day) + &#39; years old&#39;}}&quot;</span><span class="nt">/&gt;</span> 出生日期选择
    <span class="nt">&lt;DatePicker</span> <span class="na">year=</span><span class="s">&quot;{{ year }}&quot;</span> <span class="na">month=</span><span class="s">&quot;{{ month }}&quot;</span> <span class="na">day=</span><span class="s">&quot;{{ day }}&quot;</span><span class="nt">/&gt;</span> #B
    <span class="nt">&lt;ListPicker</span> <span class="na">items=</span><span class="s">&quot;{{ genders }}&quot;</span> <span class="na">selectedIndex=</span><span class="s">&quot;{{ gender }}&quot;</span><span class="nt">/&gt;</span> 性别选择
    <span class="nt">&lt;Image</span> <span class="na">src=</span><span class="s">&quot;{{ image }}&quot;</span> <span class="na">stretch=</span><span class="s">&quot;none&quot;</span><span class="nt">/&gt;</span> 图片选择
    <span class="nt">&lt;StackLayout</span> <span class="na">orientation=</span><span class="s">&quot;horizontal&quot;</span><span class="nt">&gt;</span>#D
      <span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;{{ (lat, long), &#39;Picture taken at &#39; + #D lat + &#39;, &#39; + long }}&quot;</span><span class="nt">/&gt;</span> #D
    <span class="nt">&lt;/StackLayout&gt;</span> #D
    <span class="nt">&lt;Button</span> <span class="na">tap=</span><span class="s">&quot;onAddImageTap&quot;</span> <span class="na">text=</span><span class="s">&quot;Add Image&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Button</span> <span class="na">tap=</span><span class="s">&quot;onDoneTap&quot;</span> <span class="na">text=</span><span class="s">&quot;Done&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/StackLayout&gt;</span>
<span class="nt">&lt;/Page&gt;</span>
</pre></div>
</div>
<p>像大多数数据输入页面一样，更新页面被分成我们正在收集的每个数据点的离散区域：标题，出生日期，性别和图片。但是，存在一个问题 - 在用户界面中的所有内容都融合在一起。这不是非常用户友好的。我们通过使用数据表单主题类来解决这个问题。</p>
<p>正如我们前面提到的，数据表单主题类在您的用户界面上强加了一个 <code class="docutils literal"><span class="pre">XML</span></code> 结构，以确保一致性和一致性。总之，一个数据表由一个主堆栈布局和一系列子堆栈布局组成。主布局被分配了类 <code class="docutils literal"><span class="pre">form</span></code> ，并且每个子布局系列都被分配了类 <code class="docutils literal"><span class="pre">input-field</span></code> 。让我们通过使用这个结构包装每个数据输入字段来看到这一点（列表10.8）。</p>
<p>清单10.8 使用表单主题类重构 scrapbookUpdate-page.xml 文件</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;Page</span> <span class="na">loaded=</span><span class="s">&quot;onLoaded&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;StackLayout&gt;</span>
    <span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;{{ title, title + &#39; Scrapbook Page&#39; }}&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;StackLayout</span> <span class="na">class=</span><span class="s">&quot;form&quot;</span><span class="nt">&gt;</span>//主栈布局随表单类一起添加
      <span class="nt">&lt;StackLayout</span> <span class="na">class=</span><span class="s">&quot;input-field&quot;</span><span class="nt">&gt;</span>//每个数据字段标签和控件都包装在输入字段类中
        <span class="nt">&lt;TextField</span> <span class="na">class=</span><span class="s">&quot;header&quot;</span> <span class="na">text=</span><span class="s">&quot;{{ title }}&quot;</span> <span class="na">hint=</span><span class="s">&quot;Enter title...&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/StackLayout&gt;</span>
      <span class="nt">&lt;StackLayout</span> <span class="na">class=</span><span class="s">&quot;input-field&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;{{ &#39;Age: &#39; + calcAge(year, month, day) + &#39; years old&#39;}}&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;DatePicker</span> <span class="na">year=</span><span class="s">&quot;{{ year }}&quot;</span> <span class="na">month=</span><span class="s">&quot;{{ month }}&quot;</span> <span class="na">day=</span><span class="s">&quot;{{ day }}&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/StackLayout&gt;</span>
      ....//剩余字段未显示，但会用输入字段类包装成堆栈布局
      <span class="nt">&lt;Button</span> <span class="na">tap=</span><span class="s">&quot;onAddImageTap&quot;</span> <span class="na">text=</span><span class="s">&quot;Add Image&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;Button</span> <span class="na">tap=</span><span class="s">&quot;onDoneTap&quot;</span> <span class="na">text=</span><span class="s">&quot;Done&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/StackLayout&gt;</span>
  <span class="nt">&lt;/StackLayout&gt;</span>
<span class="nt">&lt;/Page&gt;</span>
</pre></div>
</div>
<p>我们对更新页面进行了若干结构性更改，但它们很简单。我们添加了一个具有表单类的主栈布局。 此堆栈布局包含数据输入表单。在主堆栈布局中，我们使用另一个堆栈布局来封装每个数据输入字段。输入字段类然后应用于堆栈布局。</p>
<p>这并不会从根本上改变页面的外观，如图10.9所示，在应用了输入字段类的每个元素之间和周围都会添加额外的空间。</p>
<img alt="_images/10-8.png" src="_images/10-8.png" />
<div class="section" id="id12">
<h3>11.6.1. 构建数据输入字段<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h3>
<p>标准数据输入字段由两个元素组成：用于描述数据输入字段的标签和数据输入控件（如文本字段，日期选择器等）。</p>
<div class="admonition tip">
<p class="first admonition-title">小技巧</p>
<p class="last">创建数据输入页面时，将标签和数据输入元素组合在一起以创建一致的用户界面。</p>
</div>
<p>查看标题，出生日期和性别字段，我们没有遵循这种模式。用户应该如何知道日期选择器是出生日期？ 有些用户在将年龄标签与下面的日期选择器连接时可能没有问题，但 <code class="docutils literal"><span class="pre">UI</span></code> 中的统一性可创建一致的用户体验。</p>
<p>我们通过为标题，出生日期和性别以及图像字段添加一致的标签来解决此问题。在向输入字段堆栈布局添加标签时，我们将应用两个类： <code class="docutils literal"><span class="pre">label</span></code> 和 <code class="docutils literal"><span class="pre">input</span></code> 。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last"><code class="docutils literal"><span class="pre">label</span></code> 和 <code class="docutils literal"><span class="pre">input</span></code> 类用于设置输入字段标签和文本字段的样式。它们是主题样式的一部分，有助于创建更一致的 <code class="docutils literal"><span class="pre">UI</span></code> 体验。</p>
</div>
<p>从标题字段开始，我们将添加带有 <code class="docutils literal"><span class="pre">label</span></code> 类的标签。我们还将字段的名称更改为 <code class="docutils literal"><span class="pre">name</span></code> ，因为它更具描述性：</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;Label</span> <span class="na">class=</span><span class="s">&quot;label&quot;</span> <span class="na">text=</span><span class="s">&quot;Name:&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>接下来是出生日期标签。现有的标签显示年龄，但可能会造成混淆。让我们称它为什么 - 出生日期，但也显示计算的年龄（列表10.9）</p>
<p>清单10.9 更新了 scrapbookUpdate-page.xml 文件中的出生日期标签</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span>&lt;Label class=&quot;label&quot; text=&quot;{{ (year, month, day), &#39;Birth date: &#39; + //始终显示出生日期字段标签
(year === null ? //如果数据绑定年份字段为空，则不显示任何内容
&#39;&#39; : &#39;(&#39; + calcAge(year, month, day) + &#39; years old)&#39; ) }}&quot; //选择日期时有条件地显示计算的年龄
/&gt;
</pre></div>
</div>
<p>我们对标签的文本值使用了稍微更高级的数据绑定表达式，所以我们一步一步分解它。首先，我们总是希望显示 <code class="docutils literal"><span class="pre">Birth</span> <span class="pre">date:</span></code> ，所以这是数据绑定表达式的一部分。其次，我们要有条件地显示使用 <code class="docutils literal"><span class="pre">calcAge()</span></code> 函数计算的年龄。为了有条件地显示年龄，我们使用三元运算符。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">三元运算符是通过使用 <code class="docutils literal"><span class="pre">{conditional-statement}</span> <span class="pre">?</span> <span class="pre">{evaluate-if-true}:{evaluate-if-false}</span></code> 的语法来执行。例如， <code class="docutils literal"><span class="pre">if-then-else</span></code> 语句如果 <code class="docutils literal"><span class="pre">x</span></code> ，则 <code class="docutils literal"><span class="pre">y</span></code> ，否则 <code class="docutils literal"><span class="pre">z</span></code> 的 <code class="docutils literal"><span class="pre">if-then-else</span></code> 语句表示为 <code class="docutils literal"><span class="pre">x</span> <span class="pre">?</span> <span class="pre">y</span> <span class="pre">:</span> <span class="pre">z</span></code> 使用三元运算符。</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">小技巧</p>
<p class="last">避免在用户界面中显示未定义或空数据值 - 这会分散给用户。 在数据绑定表达式中使用三元运算符来控制数据绑定字段的条件显示。</p>
</div>
<p>最后两个字段与名称字段相似。我们会将标签添加到其输入字段堆栈布局中并应用 <code class="docutils literal"><span class="pre">label</span></code> 类。</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;Gender:&quot;</span> <span class="na">class=</span><span class="s">&quot;label&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;Image:&quot;</span> <span class="na">class=</span><span class="s">&quot;label&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>在我们处理图像数据输入字段时，让我们重新使用您之前了解的 <code class="docutils literal"><span class="pre">footnote</span></code> 类，并使用三元运算符将经度和纬度标签更改为脚注，以便仅在经度和纬度不是经度和纬度时显示位置未定义（清单10.10）。</p>
<p>清单10.10 使用 scrapbookUpdatepage.xml 文件中的三元运算符重构的图像位置标签</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;Label</span> <span class="na">class=</span><span class="s">&quot;footnote&quot;</span>
<span class="na">text=</span><span class="s">&quot;{{ (lat, long),</span>
<span class="s">(lat === undefined || long === undefined) ?</span>
<span class="s">&#39;&#39; :&#39;Picture taken at &#39; + lat + &#39;, &#39; + long }}&quot;</span>
<span class="nt">/&gt;</span>
</pre></div>
</div>
<p>如果你一直在跟随，你的更新页面应该如清单10.11和图10.10所示。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">在运行应用程序之前，不要忘记从 <code class="docutils literal"><span class="pre">scrapbookUpdate-page.css</span></code> 文件中删除自定义标签样式。如果你不这样做，你的应用程序将看起来不像我们的。</p>
</div>
<p>清单10.11 使用表单主题类重构 scrapbookUpdate 页面</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;Page</span> <span class="na">loaded=</span><span class="s">&quot;onLoaded&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;StackLayout&gt;</span>
    <span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;{{ title, title + &#39; Scrapbook Page&#39; }}&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;StackLayout</span> <span class="na">class=</span><span class="s">&quot;form&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;StackLayout</span> <span class="na">class=</span><span class="s">&quot;input-field&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;Name:&quot;</span> <span class="na">class=</span><span class="s">&quot;label&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;TextField</span> <span class="na">class=</span><span class="s">&quot;header&quot;</span> <span class="na">text=</span><span class="s">&quot;{{ title }}&quot;</span> <span class="na">hint=</span><span class="s">&quot;Enter title...&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/StackLayout&gt;</span>
      <span class="nt">&lt;StackLayout</span> <span class="na">class=</span><span class="s">&quot;input-field&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;Label</span> <span class="na">class=</span><span class="s">&quot;label&quot;</span> <span class="na">text=</span><span class="s">&quot;{{ &#39;Birth date: &#39; + (year === null ? &#39;&#39; : &#39;(&#39; + calcAge(year, month, day) + &#39; years old)&#39;) }}&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;DatePicker</span> <span class="na">year=</span><span class="s">&quot;{{ year }}&quot;</span> <span class="na">month=</span><span class="s">&quot;{{ month }}&quot;</span> <span class="na">day=</span><span class="s">&quot;{{ day }}&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/StackLayout&gt;</span>
      <span class="nt">&lt;StackLayout</span> <span class="na">class=</span><span class="s">&quot;input-field&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;Gender:&quot;</span> <span class="na">class=</span><span class="s">&quot;label&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;ListPicker</span> <span class="na">items=</span><span class="s">&quot;{{ genders }}&quot;</span> <span class="na">selectedIndex=</span><span class="s">&quot;{{ gender }}&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/StackLayout&gt;</span>
      <span class="nt">&lt;StackLayout</span> <span class="na">class=</span><span class="s">&quot;input-field&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;Image:&quot;</span> <span class="na">class=</span><span class="s">&quot;label&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Image</span> <span class="na">src=</span><span class="s">&quot;{{ image }}&quot;</span> <span class="na">stretch=</span><span class="s">&quot;none&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Label</span> <span class="na">text=</span><span class="s">&quot;{{ (lat, long), (lat === undefined || long === undefined) ? &#39;&#39; : &#39;Picture taken at &#39; + lat + &#39;, &#39; + long }}&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/StackLayout&gt;</span>
    <span class="nt">&lt;/StackLayout&gt;</span>
    <span class="nt">&lt;Button</span> <span class="na">tap=</span><span class="s">&quot;onAddImageTap&quot;</span> <span class="na">text=</span><span class="s">&quot;Add Image&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Button</span> <span class="na">tap=</span><span class="s">&quot;onDoneTap&quot;</span> <span class="na">text=</span><span class="s">&quot;Done&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/StackLayout&gt;</span>
<span class="nt">&lt;/Page&gt;</span>
</pre></div>
</div>
<img alt="_images/10-9.png" src="_images/10-9.png" />
<p>我们已经涵盖了很多主题背景，并且您已经学会了如何将内置主题类集成到您的应用中，以节省时间并制作更一致的 <code class="docutils literal"><span class="pre">UI</span></code> 。还有更多需要了解主题的知识，为文本和其他 <code class="docutils literal"><span class="pre">UI</span></code> 元素着色的附加类。本章中我们不会专门介绍这些内容，但我们将在本书的其余部分中以随机的方式向您介绍这些内容。如果您现在有兴趣了解更多信息， <code class="docutils literal"><span class="pre">NativeScript</span></code> 文档将包含主题包中包含的每个类的完整列表。在 <a class="reference external" href="https://docs.nativescript.org/ui/theme">https://docs.nativescript.org/ui/theme</a> 查看。</p>
<p>当我们离开主题时，更新页面似乎还不完整。事实上，它不起作用，看起来很混乱。出生日期选择器和性别列表选取器占用大量空间，这会导致用户向下滚动页面。我们可以做得更好。在下一章中，您将学习如何清理 <code class="docutils literal"><span class="pre">UI</span></code> 并使其更加实用。</p>
</div>
</div>
<div class="section" id="id13">
<h2>11.7. 总结<a class="headerlink" href="#id13" title="永久链接至标题">¶</a></h2>
<p>在本章中，您了解了以下内容：</p>
<ul class="simple">
<li>通过安装 <code class="docutils literal"><span class="pre">nativescript-themecore</span></code>  npm 软件包，您可以使用预构建的 <code class="docutils literal"><span class="pre">CSS</span></code> 样式包对应用程序进行样式设置。</li>
<li><code class="docutils literal"><span class="pre">CSS</span></code> 边距和填充可应用于具有 <code class="docutils literal"><span class="pre">{m/p}-{t/b/l/r}-{＃}</span></code> 的简短类名称语法的元素，其中 <code class="docutils literal"><span class="pre">m/p</span></code> 代表边距和填充， <code class="docutils literal"><span class="pre">t/b/l/r</span></code> 代表顶部，底部，左侧和右侧， <code class="docutils literal"><span class="pre">＃</span></code> 代表像素的数量。</li>
<li>使用主题 <code class="docutils literal"><span class="pre">CSS</span></code> 类 <code class="docutils literal"><span class="pre">form</span></code> ， <code class="docutils literal"><span class="pre">input-field</span></code> ， <code class="docutils literal"><span class="pre">label</span></code> 和 <code class="docutils literal"><span class="pre">input</span></code> ，您可以创建一致的数据输入表单。</li>
<li>三元运算符( <code class="docutils literal"><span class="pre">{if-conditional}?{return-if-true}:{return-if-false}</span></code> )是一种可以代替 <code class="docutils literal"><span class="pre">if-then-else</span></code> 语句的简写逻辑表达式。</li>
</ul>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="细化用户体验.html" class="btn btn-neutral float-right" title="12. 细化用户体验" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="原生硬件.html" class="btn btn-neutral" title="10. 原生硬件" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, lz.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            LANGUAGE:'zh_CN',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>